{"ast":null,"code":"var _jsxFileName = \"/Users/angrandy/Desktop/csc3007/src/ReactTable.tsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { createTable, getCoreRowModel, useTableInstance } from '@tanstack/react-table';\nimport React from \"React\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst psi_url = \"https://api.data.gov.sg/v1/environment/psi\";\nconst table = createTable().setRowType();\nexport default function ReactTable() {\n  _s();\n\n  const [data, setData] = useState([]);\n  const [columns] = React.useState(() => [...defaultColumns]);\n  const instance = useTableInstance(table, {\n    data,\n    columns,\n    getCoreRowModel: getCoreRowModel()\n  });\n\n  const fetchData = async () => {\n    const response = await axios.get(psi_url).catch(err => console.log(err));\n\n    if (response) {\n      console.log(response.data.items[0].readings);\n      setData(response.data.items[0].readings);\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []); // useEffect(() => {\n  // }, data);   \n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: instance.getHeaderGroups().map(headerGroup => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: headerGroup.headers.map(header => /*#__PURE__*/_jsxDEV(\"th\", {\n            colSpan: header.colSpan,\n            children: header.isPlaceholder ? null : header.renderHeader()\n          }, header.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this))\n        }, headerGroup.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: instance.getRowModel().rows.map(row => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: row.getVisibleCells().map(cell => /*#__PURE__*/_jsxDEV(\"td\", {\n            children: cell.renderCell()\n          }, cell.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this))\n        }, row.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ReactTable, \"9LniiWK8MikmSjvc5cxRhNNnQd8=\", false, function () {\n  return [useTableInstance];\n});\n\n_c = ReactTable;\nconst defaultColumns = [table.createGroup({\n  header: 'Name',\n  footer: props => props.column.id,\n  columns: [table.createDataColumn('firstName', {\n    cell: info => info.getValue(),\n    footer: props => props.column.id\n  }), table.createDataColumn(row => row.lastName, {\n    id: 'lastName',\n    cell: info => info.getValue(),\n    header: () => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: \"Last Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }, this),\n    footer: props => props.column.id\n  })]\n})];\n\nvar _c;\n\n$RefreshReg$(_c, \"ReactTable\");","map":{"version":3,"names":["axios","useEffect","useState","createTable","getCoreRowModel","useTableInstance","React","psi_url","table","setRowType","ReactTable","data","setData","columns","defaultColumns","instance","fetchData","response","get","catch","err","console","log","items","readings","getHeaderGroups","map","headerGroup","headers","header","colSpan","isPlaceholder","renderHeader","id","getRowModel","rows","row","getVisibleCells","cell","renderCell","createGroup","footer","props","column","createDataColumn","info","getValue","lastName"],"sources":["/Users/angrandy/Desktop/csc3007/src/ReactTable.tsx"],"sourcesContent":["import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport {\n    createTable,\n    getCoreRowModel,\n    useTableInstance,\n  } from '@tanstack/react-table'\nimport React from \"React\";\n\nconst psi_url = \"https://api.data.gov.sg/v1/environment/psi\";\n\ntype Response = {\n    metric: string,\n    national: number,\n    central: number,\n    west: number,\n    east: number,\n    north: number,\n    south: number\n}\n\nconst table = createTable().setRowType<Response>();  \n\nexport default function ReactTable() {\n    const [data, setData] = useState([]);\n\n    const [columns] = React.useState<typeof defaultColumns>(() => [\n        ...defaultColumns,\n      ])\n      \n    const instance = useTableInstance(table, {\n        data,\n        columns,\n        getCoreRowModel: getCoreRowModel(),\n      })\n\n    const fetchData = async () => {\n        const response = await axios.get(psi_url).catch(err => console.log(err));\n    \n        if (response) {\n            console.log(response.data.items[0].readings);\n            setData(response.data.items[0].readings);\n        }\n    };\n\n    useEffect(() => {\n        fetchData();\n    }, []);   \n\n    // useEffect(() => {\n        \n    // }, data);   \n\n    return (\n        <div>\n      <table>\n        <thead>\n          {instance.getHeaderGroups().map(headerGroup => (\n            <tr key={headerGroup.id}>\n              {headerGroup.headers.map(header => (\n                <th key={header.id} colSpan={header.colSpan}>\n                  {header.isPlaceholder ? null : header.renderHeader()}\n                </th>\n              ))}\n            </tr>\n          ))}\n        </thead>\n        <tbody>\n          {instance.getRowModel().rows.map(row => (\n            <tr key={row.id}>\n              {row.getVisibleCells().map(cell => (\n                <td key={cell.id}>{cell.renderCell()}</td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n    </table>\n    </div>\n    )\n}\n\nconst defaultColumns = [\n    table.createGroup({\n      header: 'Name',\n      footer: props => props.column.id,\n      columns: [\n        table.createDataColumn('firstName', {\n          cell: info => info.getValue(),\n          footer: props => props.column.id,\n        }),\n        table.createDataColumn(row => row.lastName, {\n          id: 'lastName',\n          cell: info => info.getValue(),\n          header: () => <span>Last Name</span>,\n          footer: props => props.column.id,\n        }),\n      ],\n    }),\n  ]\n\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SACIC,WADJ,EAEIC,eAFJ,EAGIC,gBAHJ,QAIS,uBAJT;AAKA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,OAAO,GAAG,4CAAhB;AAYA,MAAMC,KAAK,GAAGL,WAAW,GAAGM,UAAd,EAAd;AAEA,eAAe,SAASC,UAAT,GAAsB;EAAA;;EACjC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;EAEA,MAAM,CAACW,OAAD,IAAYP,KAAK,CAACJ,QAAN,CAAsC,MAAM,CAC1D,GAAGY,cADuD,CAA5C,CAAlB;EAIA,MAAMC,QAAQ,GAAGV,gBAAgB,CAACG,KAAD,EAAQ;IACrCG,IADqC;IAErCE,OAFqC;IAGrCT,eAAe,EAAEA,eAAe;EAHK,CAAR,CAAjC;;EAMA,MAAMY,SAAS,GAAG,YAAY;IAC1B,MAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAACkB,GAAN,CAAUX,OAAV,EAAmBY,KAAnB,CAAyBC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAhC,CAAvB;;IAEA,IAAIH,QAAJ,EAAc;MACVI,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACN,IAAT,CAAcY,KAAd,CAAoB,CAApB,EAAuBC,QAAnC;MACAZ,OAAO,CAACK,QAAQ,CAACN,IAAT,CAAcY,KAAd,CAAoB,CAApB,EAAuBC,QAAxB,CAAP;IACH;EACJ,CAPD;;EASAvB,SAAS,CAAC,MAAM;IACZe,SAAS;EACZ,CAFQ,EAEN,EAFM,CAAT,CAtBiC,CA0BjC;EAEA;;EAEA,oBACI;IAAA,uBACF;MAAA,wBACE;QAAA,UACGD,QAAQ,CAACU,eAAT,GAA2BC,GAA3B,CAA+BC,WAAW,iBACzC;UAAA,UACGA,WAAW,CAACC,OAAZ,CAAoBF,GAApB,CAAwBG,MAAM,iBAC7B;YAAoB,OAAO,EAAEA,MAAM,CAACC,OAApC;YAAA,UACGD,MAAM,CAACE,aAAP,GAAuB,IAAvB,GAA8BF,MAAM,CAACG,YAAP;UADjC,GAASH,MAAM,CAACI,EAAhB;YAAA;YAAA;YAAA;UAAA,QADD;QADH,GAASN,WAAW,CAACM,EAArB;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QADF,eAYE;QAAA,UACGlB,QAAQ,CAACmB,WAAT,GAAuBC,IAAvB,CAA4BT,GAA5B,CAAgCU,GAAG,iBAClC;UAAA,UACGA,GAAG,CAACC,eAAJ,GAAsBX,GAAtB,CAA0BY,IAAI,iBAC7B;YAAA,UAAmBA,IAAI,CAACC,UAAL;UAAnB,GAASD,IAAI,CAACL,EAAd;YAAA;YAAA;YAAA;UAAA,QADD;QADH,GAASG,GAAG,CAACH,EAAb;UAAA;UAAA;UAAA;QAAA,QADD;MADH;QAAA;QAAA;QAAA;MAAA,QAZF;IAAA;MAAA;MAAA;MAAA;IAAA;EADE;IAAA;IAAA;IAAA;EAAA,QADJ;AA0BH;;GAxDuBvB,U;UAOHL,gB;;;KAPGK,U;AA0DxB,MAAMI,cAAc,GAAG,CACnBN,KAAK,CAACgC,WAAN,CAAkB;EAChBX,MAAM,EAAE,MADQ;EAEhBY,MAAM,EAAEC,KAAK,IAAIA,KAAK,CAACC,MAAN,CAAaV,EAFd;EAGhBpB,OAAO,EAAE,CACPL,KAAK,CAACoC,gBAAN,CAAuB,WAAvB,EAAoC;IAClCN,IAAI,EAAEO,IAAI,IAAIA,IAAI,CAACC,QAAL,EADoB;IAElCL,MAAM,EAAEC,KAAK,IAAIA,KAAK,CAACC,MAAN,CAAaV;EAFI,CAApC,CADO,EAKPzB,KAAK,CAACoC,gBAAN,CAAuBR,GAAG,IAAIA,GAAG,CAACW,QAAlC,EAA4C;IAC1Cd,EAAE,EAAE,UADsC;IAE1CK,IAAI,EAAEO,IAAI,IAAIA,IAAI,CAACC,QAAL,EAF4B;IAG1CjB,MAAM,EAAE,mBAAM;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAH4B;IAI1CY,MAAM,EAAEC,KAAK,IAAIA,KAAK,CAACC,MAAN,CAAaV;EAJY,CAA5C,CALO;AAHO,CAAlB,CADmB,CAAvB"},"metadata":{},"sourceType":"module"}